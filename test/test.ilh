#ifndef	__TEST_ILH__
#define	__TEST_ILH__

#include <type.ilh>
#include <arch.ilh>

#define	NULL	(cast<*>(0))

struct FILE {
}

function _get_stdin():*struct FILE dummy
function _get_stdout():*struct FILE dummy
function _get_stderr():*struct FILE dummy

#define stdin	(_get_stdin())
#define stdout	(_get_stdout())
#define stderr	(_get_stderr())




function tst_fdopen(fd:int32, mode:*char):*struct FILE dummy

function tst_malloc(sz:uint64):* dummy
function tst_free(ptr:*) dummy
function tst_printf(fmt:*char, ...) dummy
function tst_fprintf(file:*struct FILE, fmt:*char, ...) dummy

function tst_strcmp(a:*char, b:*char):int32 dummy

function tst_exit(status:int) dummy




#define	assert(val)	{ if (!(val)) { tst_fprintf(stderr, "ASSERT FAILED(%s:%d)!\n", __FILE__, __LINE__); tst_exit(1); } }

#endif
